<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Used Car Selection</title>
</head>
<body>

    <h2>Find Your Used Car</h2>

    <!-- JotForm Embed Code -->
    <iframe id="jotform" src="https://form.jotform.com/250686956892073" width="100%" height="800px" frameborder="0"></iframe>

    <script>
    document.addEventListener("DOMContentLoaded", function () {
        var brandModelMap = {
            "BMW": ["X1", "X3", "X5", "M3", "M4"],
            "Audi": ["A3", "A4", "Q5", "Q7", "R8"],
            "Toyota": ["Corolla", "Camry", "RAV4", "Highlander", "Supra"],
            "Tesla": ["Model S", "Model 3", "Model X", "Model Y"],
        };

        // Wait for the form to load inside the iframe
        var iframe = document.getElementById("jotform");
        iframe.onload = function () {
            var doc = iframe.contentWindow.document;

            var brandDropdown = doc.querySelector("[name='q1_selectACarBrand']");
            var modelDropdown = doc.querySelector("[name='q2_selectAModel']");

            if (brandDropdown && modelDropdown) {
                brandDropdown.addEventListener("change", function () {
                    var selectedBrand = brandDropdown.value;
                    modelDropdown.innerHTML = "";

                    if (brandModelMap[selectedBrand]) {
                        brandModelMap[selectedBrand].forEach(function (model) {
                            var option = document.createElement("option");
                            option.value = model;
                            option.textContent = model;
                            modelDropdown.appendChild(option);
                        });
                    }
                });
            }
        };
    });
    </script>

</body>
</html>
